(()=>{"use strict";var e={251:(e,t,i)=>{var s=i(196),a=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function r(e,t,i){var s,r={},c=null,g=null;for(s in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(g=t.ref),t)l.call(t,s)&&!o.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===r[s]&&(r[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:g,props:r,_owner:n.current}}t.jsx=r,t.jsxs=r},893:(e,t,i)=>{e.exports=i(251)},196:e=>{e.exports=window.React}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,i),l.exports}(()=>{const e=window.wp.blocks,t=JSON.parse('{"u2":"fsb/flexible-spacer"}');var s=i(196);function a(e){var t,i,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(i=a(e[t]))&&(s&&(s+=" "),s+=i)}else for(i in e)e[i]&&(s&&(s+=" "),s+=i);return s}const l=function(){for(var e,t,i=0,s="",l=arguments.length;i<l;i++)(e=arguments[i])&&(t=a(e))&&(s&&(s+=" "),s+=t);return s},n=window.wp.i18n,o=window.wp.data,r=window.wp.blockEditor,c=window.wp.components,g=window.wp.element,h=window.wp.primitives;var m=i(893);const p=(0,m.jsxs)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,m.jsx)(h.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,m.jsx)(h.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),b=(0,m.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(h.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),v=(0,m.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(h.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),f=(0,m.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(h.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),d=(0,g.forwardRef)((function({icon:e,size:t=24,...i},s){return(0,g.cloneElement)(e,{width:t,height:t,...i,ref:s})})),u=window.wp.url,_=(0,s.createElement)(c.SVG,{viewBox:"0 0 24 24"},(0,s.createElement)(c.Polygon,{points:"17.5,1.5 7.8,6.1 10.8,6.5 6.5,10.5 16.5,6 13.4,5.5 "}),(0,s.createElement)(c.Path,{d:"M13.5,10.2v1.6h3.7L5.8,19.2V15H4.2v6.8H11v-1.6H6.8l11.4-7.4v3.7h1.6v-6.3H13.5z"})),x=(0,s.createElement)(c.SVG,{viewBox:"0 0 24 24"},(0,s.createElement)(c.Path,{d:"M18.1,11.5H5.9l2.7-3.2L7.8,7.5L4,12l3.8,4.1l0.7-0.8L6,12.5h12.3L18.1,11.5z M18.1,12.5l-2.7,3.2l0.7,0.8L20,12l-3.8-4.1 l-0.7,0.8l2.6,2.9"}),(0,s.createElement)(c.Path,{d:"M4.5,4.3v3H3V2.8h18v4.5h-1.5v-3C19.5,4.3,4.5,4.3,4.5,4.3z"}),(0,s.createElement)(c.Path,{d:"M19.5,19.7v-3H21v4.5H3v-4.5h1.5v3H19.5z"})),w=100,E="px",N=fsbConf.defaultValue,S={from:[{type:"block",blocks:["core/spacer"],transform:({anchor:i,height:s})=>{const[a=w,l=E]=(0,c.__experimentalParseQuantityAndUnitFromRawValue)(s),n=`${a}${l}`;return(0,e.createBlock)(t.u2,{anchor:i,heightLg:n,heightMd:n,heightSm:n})}}],to:[{type:"block",blocks:["core/spacer"],transform:({anchor:t,heightLg:i})=>{const[s=w,a=E]=(0,c.__experimentalParseQuantityAndUnitFromRawValue)(i),l=`${s}${a}`;return(0,e.createBlock)("core/spacer",{anchor:t,height:l})}}]},y=[{attributes:{heightLg:{type:"number",default:100},heightMd:{type:"number",default:100},heightSm:{type:"number",default:100},isNegativeLg:{type:"boolean",default:!1},isNegativeMd:{type:"boolean",default:!1},isNegativeSm:{type:"boolean",default:!1}},migrate(e){const{heightLg:t,heightMd:i,heightSm:s}=e;return{...e,heightLg:void 0!==t?`${t}px`:void 0,heightMd:void 0!==i?`${i}px`:void 0,heightSm:void 0!==s?`${s}px`:void 0}},save({attributes:e,className:t}){const{heightLg:i,heightMd:a,heightSm:n,isNegativeLg:o,isNegativeMd:c,isNegativeSm:g}=e,h=o?{marginBottom:-i}:{height:i},m=c?{marginBottom:-a}:{height:a},p=g?{marginBottom:-n}:{height:n},b=r.useBlockProps.save({"aria-hidden":!0,className:l("fsb-flexible-spacer",t)});return(0,s.createElement)("div",{...b},(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:h}),(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:m}),(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:p}))}}],R={isResponsive:!1},k=(0,o.createReduxStore)("flexible-spacer-block",{reducer:(e=R,t)=>"UPDATE_IS_RESPONSIVE"===t.type?{...e,isResponsive:!e.isResponsive}:e,selectors:{getIsResponsive:e=>e.isResponsive},actions:{setIsResponsive:e=>({type:"UPDATE_IS_RESPONSIVE",value:e})}});(0,o.register)(k);const z={icon:_,edit:function({attributes:e,isSelected:t,setAttributes:i,toggleSelection:a}){const[m,_]=(0,g.useState)(w.DEFAULT_SPACER_HEIGHT_UNIT),[N,S]=(0,g.useState)(!1),[y,R]=(0,g.useState)(!1),[k,z]=(0,g.useState)(!1),[P,C]=(0,g.useState)(null),[V,M]=(0,g.useState)(null),[H,L]=(0,g.useState)(null),$=(0,o.useSelect)((e=>e("flexible-spacer-block").getIsResponsive())),{setIsResponsive:B}=(0,o.useDispatch)("flexible-spacer-block"),A=parseInt(fsbConf.breakpoint.md)!==parseInt(fsbConf.breakpoint.sm),I=fsbConf.showBlock,T=fsbConf.defaultValue,{heightLg:U,heightMd:j,heightSm:F,isNegativeLg:O,isNegativeMd:Q,isNegativeSm:D}=e;(0,g.useEffect)((()=>{U===`${w}${E}`&&j===`${w}${E}`&&F===`${w}${E}`&&i({heightLg:T.lg+T.lg_unit,heightMd:T.md+T.md_unit,heightSm:T.sm+T.sm_unit})}),[]),(0,g.useEffect)((()=>{U===j&&j===F&&_(U)}),[U,j,F]);const G=(0,u.addQueryArgs)("options-general.php",{page:"flexible-spacer-block-option"}),q=(0,r.useBlockProps)({className:l("fsb-flexible-spacer",{"fsb-flexible-spacer--is-show-block":!!I,"fsb-flexible-spacer--is-responsive":!!$})});function J(e,t){if(!t)return;const[i,s]=(0,c.__experimentalParseQuantityAndUnitFromRawValue)(t),[,a]=(0,c.__experimentalParseQuantityAndUnitFromRawValue)(e);return i+(s||a||"px")}const W=(e,t)=>{i({heightLg:J(e,t)}),A||i({heightMd:J(e,t)}),C(null)},Y=(e,t)=>{i({heightMd:J(e,t)}),M(null)},K=(e,t)=>{i({heightSm:J(e,t)}),L(null)},X=[{label:(0,n.__)("Height (All)","flexible-spacer-block"),icon:p,slug:"all",value:m,quantity:(0,c.__experimentalParseQuantityAndUnitFromRawValue)(m)[0],onChange:e=>((e,t)=>{const s=J(e,t);i({heightLg:s,heightMd:s,heightSm:s}),_(s)})(m,e)},{label:(0,n.__)("Height (Desktop)","flexible-spacer-block"),icon:b,slug:"lg",value:U,quantity:(0,c.__experimentalParseQuantityAndUnitFromRawValue)(P||U)[0],onChange:e=>W(U,e),isNegative:O,onNegativeChange:e=>{i({isNegativeLg:e}),A||i({isNegativeMd:e})}},{label:(0,n.__)("Height (Tablet)","flexible-spacer-block"),icon:v,slug:"md",value:j,quantity:(0,c.__experimentalParseQuantityAndUnitFromRawValue)(V||j)[0],onChange:e=>Y(j,e),isNegative:Q,onNegativeChange:e=>i({isNegativeMd:e})},{label:(0,n.__)("Height (Mobile)","flexible-spacer-block"),icon:f,slug:"sm",value:F,quantity:(0,c.__experimentalParseQuantityAndUnitFromRawValue)(F)[0],onChange:e=>K(H||F,e),isNegative:D,onNegativeChange:e=>i({isNegativeSm:e})}],Z=[{label:(0,n.__)("Mobile","flexible-spacer-block"),slug:"sm",icon:f,isNegative:D,height:F||T.sm,onResizeStart:()=>a(!1),onResize:()=>z(!0),onResizeStop:(e,t,i)=>{K(void 0,`${i.clientHeight}px`),z(!1)},isResizing:k},A&&{label:(0,n.__)("Tablet","flexible-spacer-block"),slug:"md",icon:v,isNegative:Q,height:j||T.md,onResizeStart:()=>a(!1),onResize:()=>R(!0),onResizeStop:(e,t,i)=>{Y(void 0,`${i.clientHeight}px`),R(!1)},isResizing:y},{label:(0,n.__)("Desktop","flexible-spacer-block"),slug:"lg",icon:b,isNegative:O,height:U||T.lg,onResizeStart:()=>a(!1),onResize:()=>S(!0),onResizeStop:(e,t,i)=>{W(void 0,`${i.clientHeight}px`),S(!1)},isResizing:N}].filter(Boolean);return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(r.BlockControls,null,(0,s.createElement)(c.ToolbarGroup,null,(0,s.createElement)(c.ToolbarButton,{icon:x,isPressed:$,label:$?(0,n.__)("Disable responsive view","flexible-spacer-block"):(0,n.__)("Enable responsive view","flexible-spacer-block"),onClick:()=>B(!$)}))),(0,s.createElement)(r.InspectorControls,null,(0,s.createElement)(c.PanelBody,{title:(0,n.__)("Spacer settings","flexible-spacer-block"),className:"fsb-flexible-spacer__sidebar"},X.map(((e,t)=>(0,s.createElement)("div",{key:t,className:`fsb-flexible-spacer__sidebar-${e.slug}`},(0,s.createElement)(c.RangeControl,{label:e.label,beforeIcon:(0,s.createElement)(d,{icon:e.icon}),min:0,max:500,value:e.quantity,withInputField:!1,onChange:e.onChange,__nextHasNoMarginBottom:!0}),(0,s.createElement)(c.__experimentalUnitControl,{value:e.value,min:0,onChange:e.onChange,size:"__unstable-large"}),e.onNegativeChange&&(0,s.createElement)(c.ToggleControl,{label:(0,n.__)("Negative space","flexible-spacer-block"),checked:e.isNegative,onChange:e.onNegativeChange,__nextHasNoMarginBottom:!0}),(0,s.createElement)(c.HorizontalRule,null)))),(0,s.createElement)(c.ExternalLink,{href:G},(0,n.__)("Plugin Setting","flexible-spacer-block")))),(0,s.createElement)(h.View,{...q},(0,s.createElement)("div",{className:"fsb-flexible-spacer__inner"},(0,s.createElement)("div",{className:"fsb-flexible-spacer__breakpoint"},(0,s.createElement)("div",{className:"fsb-flexible-spacer__breakpoint-item"},"≤ ",fsbConf.breakpoint.sm,"px <"),A&&(0,s.createElement)("div",{className:"fsb-flexible-spacer__breakpoint-item"},"≤ ",fsbConf.breakpoint.md,"px <")),Z.map(((e,i)=>(0,s.createElement)("div",{key:i,className:`fsb-flexible-spacer__device fsb-flexible-spacer__device--${e.slug}`},(0,s.createElement)("div",{className:"fsb-flexible-spacer__device-ttl"},(0,s.createElement)(d,{icon:e.icon}),e.label),(0,s.createElement)("div",{style:{height:e.height}},(0,s.createElement)(c.ResizableBox,{className:l({"is-selected":t,"is-resizing":e.isResizing,"is-negative":!!e.isNegative}),minHeight:0,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStart:e.onResizeStart,onResize:e.onResize,onResizeStop:e.onResizeStop,showHandle:t,__experimentalShowTooltip:!0,__experimentalTooltipProps:{axis:"y",position:"bottom",isVisible:e.isResizing}}))))))))},save:function({attributes:e,className:t}){const{heightLg:i,heightMd:a,heightSm:n,isNegativeLg:o,isNegativeMd:g,isNegativeSm:h}=e;function m(e,t,i,s){if(void 0===e)return t?{marginBottom:`-${i}${s}`}:{height:`${i}${s}`};const[a,l]=(0,c.__experimentalParseQuantityAndUnitFromRawValue)(e);return 0===a?{height:`${a}${l}`}:t?{marginBottom:`-${e}`}:{height:e}}const p=m(i,o,N.lg,N.lg_unit),b=m(a,g,N.md,N.md_unit),v=m(n,h,N.sm,N.sm_unit),f=r.useBlockProps.save({"aria-hidden":!0,className:l("fsb-flexible-spacer",t)});return(0,s.createElement)("div",{...f},(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:p}),(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:b}),(0,s.createElement)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:v}))},transforms:S,deprecated:y};(0,e.registerBlockType)(t.u2,z)})()})();